{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\theva\\\\Desktop\\\\Projects\\\\Content-Listing\\\\src\\\\components\\\\ContentGrid.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setSearchQuery, fetchContentData } from './actions/action'; // Update with your actual action creators\nimport ContentItem from './ContentItem';\nimport SearchBar from './SearchBar';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport debounce from 'lodash/debounce'; // Import debounce function\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContentGrid = () => {\n  _s();\n  const dispatch = useDispatch();\n  const searchQuery = useSelector(state => state.search.searchQuery); // Update with your actual state property\n\n  const contentData = useSelector(state => state.search.contentData); // Update with your actual state property\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true); // Track if more data is available\n\n  useEffect(() => {\n    if (currentPage < 4) {\n      dispatch(fetchContentData(currentPage, setHasMore));\n    } else {\n      setHasMore(false);\n    }\n  }, [dispatch, currentPage]);\n  const debouncedHandleSearch = useCallback(debounce(query => {\n    dispatch(setSearchQuery(query));\n  }, 300), [dispatch] // eslint-disable-next-line react-hooks/exhaustive-deps\n  );\n\n  const handleLoadMore = () => {\n    if (currentPage < 4) {\n      setCurrentPage(currentPage + 1);\n    } // Load the next page\n  };\n\n  const filteredData = contentData === null || contentData === void 0 ? void 0 : contentData.filter(item => item.name.toLowerCase().includes(searchQuery.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [console.log(\"searchQuery\", searchQuery), /*#__PURE__*/_jsxDEV(SearchBar, {\n      setSearchQuery: debouncedHandleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: filteredData.length // This is important to track the data length\n      ,\n      next: handleLoadMore,\n      hasMore: hasMore,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-grid\",\n        children: filteredData === null || filteredData === void 0 ? void 0 : filteredData.map((item, id) => /*#__PURE__*/_jsxDEV(ContentItem, {\n          item: item,\n          filteredData: true\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(ContentGrid, \"tnYs+kSz0PNRkncqgWx9LcG+buA=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = ContentGrid;\nexport default ContentGrid;\nvar _c;\n$RefreshReg$(_c, \"ContentGrid\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useSelector","useDispatch","setSearchQuery","fetchContentData","ContentItem","SearchBar","InfiniteScroll","debounce","jsxDEV","_jsxDEV","ContentGrid","_s","dispatch","searchQuery","state","search","contentData","currentPage","setCurrentPage","hasMore","setHasMore","debouncedHandleSearch","query","handleLoadMore","filteredData","filter","item","name","toLowerCase","includes","children","console","log","fileName","_jsxFileName","lineNumber","columnNumber","dataLength","length","next","className","map","id","_c","$RefreshReg$"],"sources":["C:/Users/theva/Desktop/Projects/Content-Listing/src/components/ContentGrid.js"],"sourcesContent":["import React, { useEffect ,useState,useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setSearchQuery, fetchContentData } from './actions/action'; // Update with your actual action creators\r\nimport ContentItem from './ContentItem';\r\nimport SearchBar from './SearchBar';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport debounce from 'lodash/debounce'; // Import debounce function\r\n\r\nconst ContentGrid = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const searchQuery = useSelector((state) => state.search.searchQuery); // Update with your actual state property\r\n\r\n  const contentData = useSelector((state) => state.search.contentData); // Update with your actual state property\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true); // Track if more data is available\r\n\r\n  useEffect(() => {\r\n    if(currentPage<4){\r\n    dispatch(fetchContentData(currentPage, setHasMore));\r\n    }\r\n    else{\r\n      setHasMore(false)\r\n    }\r\n  }, [dispatch, currentPage]);\r\n\r\n  const debouncedHandleSearch = useCallback(\r\n    debounce((query) => {\r\n      dispatch(setSearchQuery(query));\r\n    }, 300),\r\n    [dispatch] // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    \r\n  );\r\n \r\n  const handleLoadMore = () => {\r\n    if(currentPage<4){\r\n    setCurrentPage(currentPage + 1); \r\n    }// Load the next page\r\n\r\n  };\r\n\r\n  const filteredData = contentData?.filter((item) =>\r\n    item.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {console.log(\"searchQuery\", searchQuery)}\r\n      \r\n      {<SearchBar setSearchQuery={debouncedHandleSearch} />}\r\n\r\n      <InfiniteScroll\r\n        dataLength={filteredData.length} // This is important to track the data length\r\n        next={handleLoadMore}\r\n        hasMore={hasMore}\r\n      >\r\n        <div className=\"content-grid\">\r\n\r\n          {filteredData?.map((item, id) => (\r\n            <ContentItem key={id} item={item} filteredData />\r\n          ))}\r\n        </div>\r\n      </InfiniteScroll>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContentGrid;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}